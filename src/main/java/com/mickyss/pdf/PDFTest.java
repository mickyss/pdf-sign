package com.mickyss.pdf;

import com.itextpdf.awt.geom.Rectangle2D;
import com.itextpdf.text.DocumentException;
import com.itextpdf.text.Image;
import com.itextpdf.text.pdf.PdfContentByte;
import com.itextpdf.text.pdf.PdfReader;
import com.itextpdf.text.pdf.PdfStamper;
import com.itextpdf.text.pdf.parser.PdfReaderContentParser;

import java.io.*;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

/**
 * @author mickyss
 * @description
 * @since 2020/10/30 0030
 */
public class PDFTest {


    //
    public static void main(String[] args) throws IOException {

        File file = new File("D:\\sign.pdf");
        if(file.exists()){
            System.out.println("123");
        }
        //这里放base64图片字符串，注意不需要data:image/jpg;base64,这串前缀
        String signBase64 = "iVBORw0KGgoAAAANSUhEUgAAAkQAAADxCAYAAAAqeKi1AAAABHNCSVQICAgIfAhkiAAAIABJREFUeJzt3XlYVHXbB/DvmRkGCERARBAVcDcV0DQ0wTQrtyzLVFzKtc00fUtTs/RSn1ywHjLNMhXUp1QUs1xQy6dScClNYWhxSZ1xzZVxwwVh3j98mZfhnBlmYGbOMPP9XJfXxdxzzu/cKjo3v1UwGAwGEBEREXkwhdwJEBEREcmNBRERERF5PBZERERE5PFYEBEREZHHY0FEREREHo8FEREREXk8FkRERETk8VgQERERkcdjQUREREQejwUREREReTwWREREROTxWBARERGRx2NBRERERB6PBRERERF5PBZERERE5PFYEBEREZHHY0FEREREHo8FEREREXk8FkRERETk8VgQERERkcdjQUREREQejwUREREReTwWREREROTxWBARERGRx2NBRERERB6PBRERERF5PBZERERE5PFYEBEREZHHY0FEREREHo8FEREREXk8FkRERETk8VgQERERkcdjQUREREQejwUREREReTwWREREROTxWBARERGRx2NBRERERB6PBRERERF5PBZERERE5PFYEBEREZHHY0FUjuzsbDz55JPw8fGBUqmEQqEw/lIqlQgJCUGbNm0wbtw4aDQaudMlIiKiChAMBoNB7iRc1euvv47FixfbdI+XlxfGjh2LefPmOSgrIiIisjcWRGbodDpERUVV+P4BAwZg1apV9kuIiIiIHIZDZmaMHDmyUvevXr0anTp1sk8yRERE5FAsiMw4fvy42fe8vLxQq1YtRERE4LXXXkNaWhpyc3NhMBig1Wrx6quvAgB27twJPz8/Z6VMREREFcQhMzNCQkJw5coVUTw3NxcxMTHl3v/QQw/h9u3b8Pf3x40bNxyRIhEREdkJe4jMUKlUkvHz589bdX9BQQEMBgOLISIioiqABZEZgiBIxvV6vZMzISIiIkdjQWSGuZ6d7777zsmZEBERkaOxIDKjqKhIMl6tWjUnZ0JERESOxoLIjOLiYsl4fn6+kzMhIiIiR2NBZIaPj49kPCgoyMmZEBERkaOxIDKjdu3akvEGDRo4ORMiIiJyNO5DZEZOTg5atWplElMqlbh//75MGREREZGjsIfIjLi4OKSkpBhf+/j4YMeOHTJmRERERI7CHqJy6PV65OTk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";
        // 读取模板文件
        InputStream input = new FileInputStream(file);
        PdfReader reader = new PdfReader(input);
        PdfStamper stamper = null;
        //获取受理签名坐标
        List<Map> rectText = new ArrayList();
        try {
            stamper = new PdfStamper(reader, new FileOutputStream(
                    file.getPath()));
        } catch (DocumentException e) {
            e.printStackTrace();
        }
        try {
            //新建一个PDF解析对象
            PdfReaderContentParser parser = new PdfReaderContentParser(reader);
            for(int i = 1;i <= reader.getNumberOfPages();i++) {
                //新建一个ImageRenderListener对象，该对象实现了RenderListener接口，作为处理PDF的主要类
                TestRenderListener listener = new TestRenderListener();
                //解析PDF，并处理里面的文字
                parser.processContent(i, listener);
                List<Map<String, Rectangle2D.Float>> list_text = listener.rows_text_rect;
                for (int k = 0; k < list_text.size(); k++) {
                    Map<String, Rectangle2D.Float> map = list_text.get(k);
                    for (Map.Entry<String, Rectangle2D.Float> entry : map.entrySet()) {
                        if(entry.getKey().contains("名")){
                            Map mapEntry = new HashMap();
                            mapEntry.put("x",entry.getValue().x);
                            mapEntry.put("y",entry.getValue().y);
                            rectText.add(mapEntry);
                        }
                    }
                }
            }
            for(int i = 0; i<rectText.size();i++ ){
                // 读图片
                Image image = Image.getInstance(Base64Util.decodeToByte(signBase64));
                // 根据域的大小缩放图片
                image.scaleToFit(100,100);
                // 添加图片 这里可以自己添加偏移量
                image.setAbsolutePosition(Float.parseFloat(rectText.get(i).get("x").toString()), Float.parseFloat(rectText.get(i).get("y").toString()));
                PdfContentByte under = stamper.getOverContent(i+1);
                under.addImage(image);
            }
            try {
                stamper.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
            reader.close();
        } catch (DocumentException e) {
            e.printStackTrace();
        }
    }
}
